import cv2
import aam
import numpy as np


shape=[0.290374,0.304333,0.257956,0.468746,0.204954,0.609373,0.137929,0.716166,0.0470799,0.768382,-0.0486298,0.706977,-0.130341,0.602217,-0.189516,0.45047,-0.229874,0.288441,0.126773,0.210471,0.0864713,0.203506,0.0336286,0.205041,0.172703,0.415269,0.15587,0.353403,0.118372,0.313064,0.0863143,0.31779,0.054082,0.305669,0.00865686,0.341375,-0.0246734,0.412963,0.0267932,0.367742,0.083632,0.350634,0.129347,0.369354,0.172703,0.415269,0.12566,0.410839,0.0786944,0.42993,0.0302177,0.407909,-0.0246734,0.412963,-0.00264085,0.471736,0.0258567,0.51999,0.0769246,0.540307,0.12122,0.519552,0.150653,0.471465]
for i in range(0, len(shape), 2):
	shape[i] = shape[i] * 640. + 640.
	shape[i + 1] = shape[i + 1] * 360. + 360.
shape = np.asarray(shape, np.float32)

# aam.build_and_save("../../video/test.avi" ,"../../video/test.model")
aam.load("../../model/fit.model")
print(aam.get_resolution())
norm_shape = aam.normalize_shape(shape)
print(norm_shape)
image = aam.render_norm_shape(norm_shape)
print(image.shape)
cv2.imshow("image", image)
cv2.waitKey()
